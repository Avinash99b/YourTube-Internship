services:
  # ðŸ”¹ Backend (Express API)
  - type: web
    name: yourtube-backend
    rootDir: server
    buildCommand: npm install
    startCommand: node index.js
    plan: free
    envVars:
      - key: NODE_ENV
        value: production
    runtime: node

  # ðŸ”¹ Frontend (Next.js or React)
  - type: web
    name: yourtube-frontend
    rootDir: yourtube
    buildCommand: npm install --include=dev && npm run build
    startCommand: npm start
    plan: free
    envVars:
      - key: NODE_ENV
        value: production
      # Point frontend to backend
      - key: API_URL
        value: https://yourtube-backend.onrender.com
    runtime: node
